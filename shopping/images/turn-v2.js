(function(e){function i(e){var t=0;if(e&&e.length>0)for(var n=0;n<e.length;n++){var r=e.eq(n);t+=r.width()+parseFloat(r.css("margin-left").replace("px",""))+parseFloat(r.css("margin-right").replace("px",""))}return t}function s(e){var t=0,n=e.children();if(n&&n.length>0)for(var r=0;r<n.length;r++){var i=n.eq(r);t+=i.width()+parseFloat(i.css("margin-left").replace("px",""))+parseFloat(i.css("margin-right").replace("px",""))}return t}var t="0",n="1",r=function(e,t){return this.container=e,this.options=_.extend({sliding:!1},t),this.$slider=this.options.sliderEl,this.$els=this.options.els,this.countInSight=this.options.countInSight,this.perWidth=this.options.perWidth,this.$preBtn=this.options.preBtn,this.$nextBtn=this.options.nextBtn,this.init(),this.addListener(),this.toggleBtn(),this};r.prototype.init=function(){this.perWidth=this.perWidth||0,this.countInSight=this.countInSight?this.countInSight:1,this.widthInSight=this.countInSight*this.perWidth>0?this.countInSight*this.perWidth:this.perWidth,this.totalWidth=this.$els?i(this.$els):s(this.$slider),this.count=Math.ceil(this.totalWidth/this.widthInSight),this.offset=0,this.sliding=this.options.sliding,this.$slider.css({width:this.totalWidth,position:"absolute",overflow:"hidden",left:0})},r.prototype.addListener=function(){var e=this;this.$preBtn&&(this.$preBtn.off("click"),this.$preBtn.on("click",function(){$(this).hasClass("disabled")||e.scrollToggle("1")})),this.$nextBtn&&(this.$nextBtn.off("click"),this.$nextBtn.on("click",function(){$(this).hasClass("disabled")||e.scrollToggle("0")}))},r.prototype.toggleBtn=function(){this.offset>0?this.$preBtn.removeClass("disabled"):this.$preBtn.addClass("disabled"),this.offset<=this.count-2?this.$nextBtn.removeClass("disabled"):this.$nextBtn.addClass("disabled")},r.prototype.scrollToggle=function(e){var n=this,r,i=n.offset,s=n.count,o=n.widthInSight;e==t?i<s-1&&(r=Math.max(-(i+1)*o,o-n.totalWidth),n.slideFx(r,i+1)):i>0&&(r=Math.min(-(i-1)*o,0),n.slideFx(r,i-1))},r.prototype.scrollTo=function(e){e=e?e:0;if(e!=this.offset&&e>=0&&e<=this.offset-1){var t=-e*this.widthInSight;this.slideFx(t,e)}},r.prototype.slideFx=function(e,t){var n=this;this.sliding||(this.sliding=!0,this.$slider.animate({left:e},500,function(){n.offset=t,n.sliding=!1,n.toggleBtn()}))},r.prototype.goto=function(e){this.scrollTo(e)},typeof define=="function"&&define.amd?define(["require","exports","module"],function(e,t,n){n.exports=r}):e.Turn||(e.Turn=r)})(window);